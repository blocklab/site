---
layout: post
title: "Skalieren Blockchains? Sorgen und Lösungsansätze"
---

In diesem Blockpost beleuchten wir Herausforderungen und aktuelle Entwicklungen in Bezug auf die Skalierbarkeit von Blockchains – der technologischen Basis für dezentrale Anwendungen der Zukunft – am Beispiel von Bitcoin und Ethereum.

## Skalierung ist nicht alles, aber ohne Skalierung ist alles nichts!

Bitcoin – die Kryptowährung mit der derzeit höchsten Marktkapitalisierung und Transaktionszahl– verarbeitet derzeit ca. 300.000 Transaktionen pro Tag [1]. Dies entspricht ca. 3-4 Transaktionen pro Sekunde und liegt weit unter den Kapazitäten von zentralen Lösungsanbietern wie beispielsweise Visa (ca. 150 Millionen Transaktionen pro Tag / 1.700 Transaktionen pro Sekunde) [2] oder PayPal (ca. 5 Millionen Transaktionen pro Tag / 60 Transaktionen pro Sekunde).

Anders als Visa oder PayPal ist Bitcoin in seiner derzeitigen Version ausgelastet. Die maximale Blockgröße von 1MB wird nahezu erreicht, was zur Folge hat, dass die vom Sender angebotene Transaktionsgebühr den Ausschlag dafür gibt, ob und vielmehr wann die Transaktion von den Minern aufgenommen wird. Ein Tool von 21.co veranschaulicht diesen Effekt [4]: Sind – Stand April 2017 – die Transaktionskosten höher als 0,0016 mBTC pro Byte, liegt die Transaktion im grünen Bereich und wird von den Minern sofort in den nächsten Block aufgenommen. Bei einer durchschnittlichen Größe von 226 Byte pro Transaktion und einem Kurs von 1200$ pro BTC ergibt das Transaktionskosten in Höhe von 0.43$.

Für große Überweisungen ist eine Transaktionsgebühr von 0.43$ akzeptabel und Bitcoin ist existierenden Systemen, die meist prozentual vom Überweisungsbetrag abrechnen, weit überlegen. Da in diesem Fall die Schnelligkeit der Transaktion nicht die höchste Priorität hat, kann man die Transaktionsgebühr sogar reduzieren. Nutzt man Bitcoin jedoch als tägliches Bezahlungsmittel (z.B. beim Einkaufen) sind 0.43$ pro Transaktion grenzwertig, und an sogenannte Mikrotransaktionen (beispielsweise beim Konsumieren von Medien) ist unter diesen Voraussetzungen nicht zu denken.

Die Einsatzmöglichkeiten von Blockchains gehen weit über Finanztransaktionen hinaus. Bitcoins Skriptsprache sowie Ethereums virtuelle Maschine ermöglichen generische Transaktionen und Berechnungen auf der Blockchain, was vielseitige Anwendungsmöglichkeiten eröffnet. Diese Anwendungen gehen von reinen Datenspeichern (IoT-Anwendungen speichern Daten von Sensoren als „Beweismittel“ in der Blockchain) über Smart Contracts (z.B. für dezentrale Oranisationen, Notardienstleistungen oder Prediction Markets) hin zur Monetarisierung von API-Zugriffen und digitalem Content auf Basis von Micropayments. 

All diese Anwendungen haben unterschiedliche Anforderungen an die Blockchain hinsichtlich des Bedarfs (und damit der Kosten) an Datenspeicher, Berechnungen und Transaktionsgebühren. Sie sind jedoch alle der Herausforderung unterworfen, dass Dezentralisierung in der derzeitigen Version von Bitcoin und Ethereum einen ungemein hohen und vielfach unterschätzten Preis hat: Jeder Knoten (full node) führt alle Berechnungen durch, speichern die gesamte Blockchain (und somit alle jemals erzeugten Daten) und validiert alle jemals erzeugten Transaktionen. Es kommt hinzu, dass die Minder – um Angriffe auf das System zu vermeiden – (bewusst) sinnlose Berechnungen durchführen, welche den Stromverbrauch des Netzwerks ins unermessliche steigen lassen: Das Bitcoin-Netzwerk verbraucht derzeit ca. 11,2 TWh pro Jahr, dies entspricht der Leistung eines Atomkraftwerks oder dem Stromverbrauch von 1 Million amerikanischen Haushalte. Eine einzelne (!) Transaktion könnte somit fast 4 amerikanische Haushalte einen Tag lang mit Strom versorgen. Dies steht im Kontrast zu zentralen Anwendungen. Das Visa-Netzwerk benötigt für das fünfhunderfache an Transaktionen nur ein zwanzigstel des Stroms, ist also 10,000 mal so energieeffizient wie Bitcoin. 

Natürlich sollte ein Vergleich mit zentralen Lösungen nicht nur eindimensional (Stromverbrauch pro Transaktion) geführt werden, sondern auch andere Kriterien, in denen dezentrale Lösungen ihre Stärken haben (z.B. Offenheit, Zuverlässigkeit, Manipulationssicherheit, Marktzugang) hinzuziehen. Dennoch erfordern fast alle der vorhin erwähnten Anwendungen Skalierbarkeitsmaßnahmen hinsichtlich Datenspeicherung, Berechnungen, und Transaktionskosten-/geschwindigkeit. Nur wenn die Community es schafft, solche Maßnahme zu entwickeln und umzusetzen, schaffen Bitcoin und Ethereum den Sprung vom Nischendasein zur Massennutzung.

## Skalierung bei Bitcoin

Die Ursache für Bitcoins hohe Kosten liegt darin, dass die Miner für ihre Arbeit – den Proof of Work – belohnt werden. Jeder Block unterliegt hierbei einem aufwändigen Brute-Force-Mechanismus, bevor er in die Blockchain aufgenommen wird. Somit wird sichergestellt, dass Angreifer mindestens 50% der Rechenleistung besitzen müssen, um im Netzwerk (langfristig) zu betrügen. 

Die Größe eines Blocks ist auf 1 MB festgelegt, d.h. je nach Größe der Transaktionen (ca. 226 Byte) können wenige tausend Transaktionen in einen Block aufgenommen werden. Eine Vergrößerung der Blockgröße würde Bitcoins Skalierungsprobleme kurzfristig lösen, da mehr Transaktionen in jeden Block aufgenommen werden können. Eine zu große Blockgröße erschwert jedoch das Mining und fördert somit einige wenige Mining-Pools mit ausgezeichneter Hardware. Ein entsprechender Vorschlag der Miner (Bitcoin Unlimited [6]) wird somit von den Core-Entwicklern abgelehnt. Außerdem wird hierfür ein Hard Fork benötigt. Die Core-Entwickler befürworten stattdessen eine effizientere Nutzung der Blocks unter Beibehaltung der bisherigen Größe. Hierfür haben sie eine Erweiterung (Segregated Witnesses [7]) vorgeschlagen, welche bis dato von den Minern abgelehnt wird. 

Unabhängig der Blockgröße bleibt die Tatsache, dass es sich bei der Bitcoin-Blockchain im Grunde um einen tausendfach replizierten Speicher von bezeugten Transaktionen unter Zuhilfenahme eines rechenintensiven Konsensusprotokolls handelt. Weitere Skalierungsbestrebungen zielen daher darauf ab, Transaktionen nach Möglichkeit Off-Chain durchzuführen und nur bei Notwendigkeit des Protokolls die Blockchain heranzuziehen. Ein Beispiel hierfür sind Payment Channels [8]: Zwei Teilnehmer erstellen unter Zuhilfenahme der Blockchain einen Zahlungskanal untereinander. Dieser Kanal kann dann für Einzelzahlungen (z.B. Mikrotransaktionen) genutzt werden, ohne dass diese an die Blockchain gesendet werden. Die Abrechnung erfolgt dann durch eine finale Transaktion an die Blockchain. 

Payment Channels sind die Grundlage des Lightning Networks [9]. Hierbei handelt es sich um ein Netzwerk von Knoten und Zahlungskanälen, durch das Transaktionen unter Zahlung einer kleinen Gebühr geroutet werden können – ähnlich wie Pakete durch das Internet. Das Lightning Network wird derzeit aktiv entwickelt, ist noch in einer frühen Phase, hat aber den ersten Praxistest bereits bestanden (es wurden 0.01 BTC für ein Foto zweier Katzen vor einem Sonnenuntergang bezahlt) [10]. 

Alles in allem gibt es bei Bitcoin vielversprechende Skalierungskonzepte, die in Form einer Kombination aus (1) Segregated Witnesses, (2) einer (vorsichtigen) Erhöhung der Blockgröße sowie (3) des Lightning Networks in die Tat umgesetzt werden könnten. Eine Gefahr besteht derzeit darin, dass die Community derzeit höchst zerstritten bei der Frage ist, wann und in welcher Form die einzelnen Optimierungen umgesetzt werden. Hier ist spürbar, dass Satoshi Nakamoto als Visionär und Schaffer des Bitcoin-Netzwerks nicht mehr (offensichtlich) aktiv ist.

## Skalierung bei Ethereum

Anders bei Bitcoin ist der Gründ von Ethereum (Vitalik Buterin) noch aktiv und viel Gestaltung geht von der Ethereum Foundation aus. Dies könnte der Grund sein, weshalb Ethereum einen radikaleren Weg bei der Lösung von Skalierungsfragen geht, während Bitcoin ein möglichst stabiles Basissystem anvisiert, auf dem dann innovative Plattformen wie das Lightning Network operieren können.

Die größte Skalierungsbestrebung bei Ethereum zielt darauf ab, den Proof-of-Work-Mechanismus langfristig vollständig zu ersetzen. Als Alternative entwickeln sie Caspar [11], ein Proof-of-Stake-Protokoll, bei dem Blöcke durch Besitz von Tokens validiert werden anstelle von Rechenleistung. Die Grundidee besteht darin, dass Miner ein Security Deposit bereitstellen und dann zufällig in Abhängigkeit des Deposits entschieden wird, wer den Block validiert. Bis es zu einer vollständigen PoS-Umsetzung kommt, ist auch eine hybride Proof-of-Work/Proof-of-Stake Lösung denkbar.

Ein weiterer Unterschied zu Bitcoin ist, dass Ethereum sehr stark auf Smart Contracts fokusiert und hierfür eine Turing-vollständige Maschinensprache entwickelt hat. Smart Contracts sind in der Java-Script-ähnlichen Sprache Solidity geschrieben und werden in Ethereum Bytecode kompiliert, der dann auf der Ethereum Virtual Machine (EVM) ausgeführt wird. In der derzeitigen Version handelt es sich also um ein Netzwerk, in dem jeder Knoten alle Berechnungen durchführt und jederzeit den gesamten State aller Contracts in der Blockchain gespeichert hat. Dies betrifft auch Knoten, die nicht in Form von Mining dafür belohnt werden. Die Blockchain ist derzeit ca. 20 GB groß und beinhaltet alle Transaktionen (seit Juli 2015) und somit alle Modifikationen dieses States.

Neben einer Umstellung auf Proof-of-Stake ist also wichtig, dass – ähnlich wie bei Bitcoin und dem Lightning Network – nicht alle Berechnungen der EVM auf allen Knoten durchgeführt werden. Ethereum arbeitet bereits an Möglichkeiten für eine Parallelisierung von Berechnungen, genannt Sharding [12]. Hierbei rechnet eine selektive Gruppe anstelle des gesamten Netzwerks. Die Herausforderung besteht hierbei in der Selektion dieser Gruppe sowie in der Zusammenführung und Überprüfung der Ergebnisse. Ein weiterer Ansatz ist Truebit [13]: Bei Truebit handelt es sich um ein Konzept für einen „Computation Market“, bei dem Entwickler Rechenprobleme mit einer Gebühr auf einen Marktplatz stellen und diese Berechnungen dann von 3rd Parties (off chain) durchgeführt werden. Nur im Falle von Unstimmigkeiten (z.B. wenn eine zweite Partie den gleichen Auftrag annimmt und ein anderes Ergebnis erhält) wird eine größere Gruppe oder gar das gesamte Netzwerk herangezogen.

## Fazit

Eine Architektur ohne zentrale Instanz bringt viele Vorteile mit sich, aber auch viele Herausforderungen, die durch Konsensusprotokolle gelöst werden müssen. Sowohl Bitcoin als auch Ethereum stehen vor großen Skalierungsherausforderungen, haben aber entsprechende Lösungskonzepte in der Pipeline. Bitcoin setzt nach wie vor auf Proof of Work und baut darauf, durch Optimierungen der Blockgröße (kurzfristig) sowie Off-chain-Transaktionen (langfristig) zu skalieren und entsprechend Transaktionsgebühren zu senken. Ethereum hingegen strebt einen Wechsel auf Proof of Stake an und arbeitet daran, Berechnungen zu parallelisieren (Sharding) oder gar einen Marktplatz für 3rd Parties zu etablieren (Truebit).

[1] [CoinDesk: Bitcoin - Daily Number of Transactions](www.coindesk.com/data/bitcoin-daily-transactions/)  
[2] [bitcoinwiki: Scalability](https://en.bitcoin.it/wiki/Scalability)  
[3] [Techcrunch: PayPal Now Processing $315 Million In Payments Per Day](https://techcrunch.com/2011/09/25/paypal-now-processing-315-million-in-payments-per-day/)  
[4] [21.co: Predicting Bitcoin Fees For Transactions](https://bitcoinfees.21.co/)  
[5] [Digiconomist: Bitcoin Energy Consumption Index](http://digiconomist.net/beci)  
[6] [bitcoinunlimited](https://www.bitcoinunlimited.info/)  
[7] [BitcoinCore: Segregated Witness Costs and Risks](https://bitcoincore.org/en/2016/10/28/segwit-costs/)  
[8] [bitcoinwiki: Payment Channels](https://en.bitcoin.it/wiki/Payment_channels)  
[9] [Lightning Network](https://lightning.network/)  
[10] [CoinDesk: Bitcoin Lightning Payments Pass 'Milestone' With Blockstream Test](http://www.coindesk.com/blockstream-amps-up-lightning-network-with-first-test-transaction/)  
[11] [Ethereum Blog: Introducing Casper “the Friendly Ghost”](https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost/)  
[12] [ethereum wiki: On sharding blockchains](https://github.com/ethereum/wiki/wiki/Sharding-FAQ)  
[13] [Simon de la Rouviere: An Intro to TrueBit: A Scalable, Decentralized Computational Court](https://medium.com/@simondlr/an-intro-to-truebit-a-scalable-decentralized-computational-court-1475531400c3)  

